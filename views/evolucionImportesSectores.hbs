{{! Vista: Evolución de importes pagados por sector (últimos 5 meses) }}
<div class="container my-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3 class="mb-0">Importes pagados por sector (últimos 5 meses)</h3>
    <a class="btn btn-outline-secondary btn-sm" href="/">Volver</a>
  </div>

  {{#if hayDatos}}
  <div class="table-responsive">
    <table class="table table-striped table-hover align-middle">
      <thead class="table-light">
        <tr>
          <th>Sector</th>
          {{#each labels}}
            <th class="text-center">{{this}}</th>
          {{/each}}
          <th class="text-center">Evolución</th>
        </tr>
      </thead>
      <tbody>
        {{#each sectores}}
          <tr>
            <td>{{this.sector}}</td>
            {{#each this.importes}}
              <td class="text-center">{{formatoMoneda this}}</td>
            {{/each}}
            <td class="text-center" style="min-width:160px; width:160px;">
              <canvas class="sparkline" data-puntos='{{json this.importes}}' data-color="#198754" data-background="rgba(25,135,84,0.10)" height="40"></canvas>
            </td>
          </tr>
        {{/each}}
      </tbody>
      {{#if totalesImportes}}
      <tfoot>
        <tr class="table-secondary fw-semibold">
          <td>Totales</td>
          {{#each totalesImportes}}
            <td class="text-center">{{formatoMoneda this}}</td>
          {{/each}}
          <td class="text-center" style="min-width:160px; width:160px;">
            <canvas class="sparkline" data-puntos='{{json totalesImportes}}' data-color="#198754" data-background="rgba(25,135,84,0.10)" height="40"></canvas>
          </td>
        </tr>
      </tfoot>
      {{/if}}
    </table>
  </div>
  {{else}}
  <div class="alert alert-warning">No hay datos históricos para mostrar.</div>
  {{/if}}
</div>

<script src="/js/sparklines-sectores.js"></script>
